# http server
http:
  debug: true
  addr: :3111
  readTimeout: 1s
  writeTimeout: 1s
  cors:
    origins:
      - '*'
    headers:
      - Origin
      - Content-Type
      - Keep-Alive
      - User-Agent
      - Authorization

# http admin server
admin:
  debug: true
  addr: :3112
  readTimeout: 1s
  writeTimeout: 1s

# grpc server
grpcServer:
  addr: :3119

# 三方應用接口 config
api:
  host: http://127.0.0.1:3005
  # 最大連接數量
  maxConns: 30
  # 最大空閒連接數
  maxIdleConns: 10
  # 單一連線最多閒置多久
  idleConnTimeout: 2m

# redis server
redis:
  # redis host
  addr: :6379
  # pool內最大連線總數
  maxConns: 50
  # 最大保留的閒置連線數
  minIdleConns: 30
  # 建立連線超時多久(秒)後放棄
  dialTimeout: 5s
  # read多久(秒)沒回覆則放棄
  readTimeout: 2s
  # write多久(秒)沒回覆則放棄
  writeTimeout: 2s
  # 空閒連線多久(秒)沒做事就close
  idleTimeout: 5m

# kafka push
kafka:
  topic: "push-topic"
  brokers:
    - 127.0.0.1:9092

database:
  host: 127.0.0.1
  port: 3306
  database: alakazam
  user: root
  password: root
  charset: utf8mb4
  collation: utf8mb4_unicode_ci
  # 最大連線總數
  active: 100
  # 最大保留的閒置連線數
  idle: 10
  # 空閒連線多久(秒)沒做事就close
  idleTimeout: 2m
  slave:
    - slave1

  slave1:
    port: 3306

# comet連線用戶心跳(秒)，timeout logic會清除在線紀錄
# 一定要比redis.expire還小
heartbeat: 240